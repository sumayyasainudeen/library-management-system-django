{% extends 'admin/adminbase.html' %}
{% load static %}

{% block title %}
View Books
{% endblock %}
{% block content %}

<div id="main" >
    <div class="row">
        <div class="col-sm-4">
            <button class="openbtn" onclick="openNav()" style="width: 50px;">â˜° </button>
        </div>
        <div class="col-sm-4 text-center pb-5">
            <img src="{% static 'images/logo1.jpg' %}" width="150" class="img-responsive img-thumbnail"
                style="margin:0 auto;">
            <h5 class="card-title display-4 title">PUBLIC LIBRARY</h5>
            <h5 class="card-text title">Let Us Grow Together!</h5>
        </div>
        <div class="col-sm-4 text-right">
            <a class=" btn logoutbtn text-white" href="{% url 'signout' %}"><i
                    class="fa-solid fa-right-from-bracket"></i> LogOut</a>
        </div>
    </div>
   
            <div class=" mb-5 ">
                <h3 class="alert  text-center  " >
                    BOOK DETAILS
                </h3>
            
                <div class="row">
                    <div class="col-sm-12 mx-auto">
                        
                        <table class="table  table-hover text-center " >
                            <thead>
                                <tr>
                                    <th>CATEGORY NAME</th>
                                    <th>BOOK NAME</th>
                                    <th>AUTHOR</th>
                                    <th>IMAGE</th>
                                    <th>DESCRIPTION</th>
                                    <th>PUBLISHED YEAR</th>
                                    <th>LANGUAGE</th>
                                    <th>PRICE</th>
                                    <th>STOCK</th>
                                    <th>ACTION</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
                                {% for p in books %}
                                <tr>
                                    <td>{{ p.category.category_name}}</td>
                                    <td>{{ p.name}}</td>
                                    <td>{{ p.author}}</td>
                                    
                                    <td>
                                        {% if p.image %}
                                        <img src="{{ p.image.url }}" width="60px">
                                        {% else %}
                                        <img src="{% static 'images/default.png' %}" alt="" width="60px">
                                        {% endif %}
                                    </td>
                                    <td>{{ p.description}}</td>
                                    <td>{{ p.publish_year}}</td>
                                    <td>{{ p.language}}</td>
                                    <td>{{ p.price}}</td>
                                    <td>{{ p.quantity}}</td>
                                    <td>
                                        <a class="btn  btn-outline-dark" href="{% url 'edit_book_page' p.id %}"><i class="fa-solid fa-pen-to-square"></i></a>
                
                                        <a class="btn btn-outline-dark " href="{% url 'delete_book' p.id %}"><i class="fa-regular fa-trash-can"></i></a>
                                    </td>  
                                </tr>
                                {% endfor %}
                            </tbody> 
                    </div>
                </div>
            </div>
      

        <style>
           
           :root {
        --dark: rgb(2, 91, 123);
        --light: rgb(4, 140, 190);
        --lighter: rgb(130, 213, 243);
    }
    .logoutbtn {
        background-color: var(--dark);
        text-decoration: none;
        color: var(--dark);

    }
    .title{
        color: var(--dark);
    }

    .alert {
        background-color: var(--dark);
        color: white;
    }

    th {
        background:var(--light);
        color: white;
    }

    table {
        border-collapse: collapse;
        border: 1px solid #cdcdcd;
        font: normal 12px arial;
        width: 100%;
        background-color:rgba(2, 91, 123,0.3);
    }

    td,
    th {
        border: 1px solid #cdcdcd;
        padding: 2px;
    }


    @media only screen and (max-width: 760px),
    (min-device-width: 768px) and (max-device-width: 1024px) {

        /* Section three*/
        table,
        thead,
        tbody,
        th,
        td,
        tr {
            display: block;
        }

        /* Section four*/
        thead tr {
            position: absolute;
            top: -9999px;
            left: -9999px;
        }

        tr {
            border-bottom: 1px solid #ccc;
        }

        /* Section five*/
        td {
            border: none;
            border-bottom: 1px solid #eee;
            position: relative;
            padding-left: 50%;
        }

        td:before {
            position: absolute;
            top: 3px;
            left: 6px;
            width: 45%;
            padding-right: 10px;
            white-space: nowrap;
            font-weight: bold;
        }

        /* Section six*/

        td:nth-of-type(1):before {
            content: "CATEGORY NAME";
        }

        td:nth-of-type(2):before {
            content: "  BOOK NAME";
        }

        td:nth-of-type(3):before {
            content: "AUTHOR";
        }
        td:nth-of-type(4):before {
            content: "IMAGE";
        }

        td:nth-of-type(5):before {
            content: "DESCRIPTION";
        }

        td:nth-of-type(6):before {
            content: "PUBLISHED YEAR";
        }
        td:nth-of-type(7):before {
            content: "LANGUAGE";
        }

        td:nth-of-type(8):before {
            content: "PRICE";
        }

        td:nth-of-type(9):before {
            content: "STOCK";
        }
        td:nth-of-type(10):before {
            content: "";
        }


       


    }

    /* Section seven*/
    @media only screen and (min-device-width : 320px) and (max-device-width : 480px) {
        body {
            padding: 0;
            margin: 0;
            width: 320px;
        }
    }

    /* Section eight*/
    @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {
        body {
            width: 495px;
        }
    }
            
        </style>
       

</div>

{% endblock %}